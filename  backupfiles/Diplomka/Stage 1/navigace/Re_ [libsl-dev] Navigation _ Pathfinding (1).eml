Return-Path: <nexisentertainment@gmail.com>
X-Original-To: v.rovensky@lit.cz
Delivered-To: v.rovensky@lit.cz
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.bezdrat.net (Postfix) with ESMTP id CD0DCC061
	for <v.rovensky@lit.cz>; Mon, 21 Dec 2009 18:18:49 +0100 (CET)
X-Virus-Scanned: amavisd-new at mail.bezdrat.net
Received: from mail.bezdrat.net ([127.0.0.1])
	by localhost (mail.bezdrat.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id tqZtejZG8m0W for <v.rovensky@lit.cz>;
	Mon, 21 Dec 2009 18:18:47 +0100 (CET)
Received: from mail-pw0-f51.google.com (mail-pw0-f51.google.com [209.85.160.51])
	by mail.bezdrat.net (Postfix) with ESMTP id 45372C054
	for <v.rovensky@lit.cz>; Mon, 21 Dec 2009 18:18:46 +0100 (CET)
Received: by pwj15 with SMTP id 15so3394929pwj.10
        for <v.rovensky@lit.cz>; Mon, 21 Dec 2009 09:18:45 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:subject:from:to:cc
         :in-reply-to:references:content-type:date:message-id:mime-version
         :x-mailer:content-transfer-encoding;
        bh=coaeOB+UBwOUkfhWpA+enIfLc6BXf+xikHZx+NYxqNk=;
        b=pH9Dykg5LLQRsEDrO+DtaTGeTB1iUlGVLvCHfkJgeg8BY+tKucauzJdzhq0yQpPUDO
         6r44xB2DGwEkBxbSG8d1wtQw4vUJVnrJaFSNv+bTyCJ95wR/NjvyodEzwpGqAtWEqAJ4
         gKd2kfynem7T2tb/Vwp6P+Z30UgISJR29gUdM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=subject:from:to:cc:in-reply-to:references:content-type:date
         :message-id:mime-version:x-mailer:content-transfer-encoding;
        b=G3YAFLlMAROcdw2yu7NYsO7pieryXe4Ik63Qfos15M4H5LlTPoKJdZdten6hRIiX1Q
         0i4QXJEM0e+BcC2aah47P/vI9yvPNGdX+D+w1BBOAz/MY4b96/L1oyavebnW+Tq57ORD
         fAOqmJ7OQafyquKZ1GkhT0kr9RsqhznSQKDNE=
Received: by 10.142.121.3 with SMTP id t3mr5098719wfc.6.1261415924759;
        Mon, 21 Dec 2009 09:18:44 -0800 (PST)
Received: from ?192.168.9.203? (pool-71-112-239-212.sttlwa.dsl-w.verizon.net [71.112.239.212])
        by mx.google.com with ESMTPS id 22sm5356448pzk.10.2009.12.21.09.18.42
        (version=SSLv3 cipher=RC4-MD5);
        Mon, 21 Dec 2009 09:18:43 -0800 (PST)
Subject: Re: [libsl-dev] Navigation / Pathfinding
From: Rob Nelson <nexisentertainment@gmail.com>
To: v.rovensky@lit.cz
Cc: libsl-dev@openmv.org
In-Reply-To: <1261335470.4b2e73aedd864@webmail.bezdrat.net>
References: <1261335470.4b2e73aedd864@webmail.bezdrat.net>
Content-Type: text/plain; charset="UTF-8"
Date: Mon, 21 Dec 2009 09:18:42 -0800
Message-ID: <1261415922.9649.9.camel@RAGE>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.1 
Content-Transfer-Encoding: 7bit

A*, in my experience, has a horrible tendency to revisit used nodes, so
the bot endlessly walks around the sim and spends a lot of CPU time
trying to path.  Djikstra may work better, but I'm having trouble
finding a working C# implementation (the one I'm using now outputs a
1-node path).

Client.Objects has some delegate-based finding methods to grab all the
objects in the sim.  What I'd do is name your waypoint objects
"Waypoint" or something, and then:

List<Primitive> objects =
Bot.Client.Network.CurrentSim.ObjectsPrimitives.FindAll(delegate(Primitive prim){
    return prim.Name.Equals("Waypoint");
});

You may need to perform additional checks to ensure that they are your
objects, etc.

On Sun, 2009-12-20 at 19:57 +0100, v.rovensky@lit.cz wrote:
> Hi everyone
> 
> I went through the documentation and mailing lists trying to find the best way
> to make my avatar move between locations and evade obstacles, but I still can't
> get it right - could someone please throw some ideas at me about how I could
> implement pathfinding / navigation? Say I have two points A and B, how could I
> make the avatar get from one to another while avoiding any obstacles? The more
> reliable the better.
> Ideally, I'd like to somehow construct a set of "waypoints" from from the Sim's
> geometry, create a graph based on accessibility between them and perform
> something like A* on it. Could this be done? Is there even a way to access the
> Sim's entire geometry (like the primitives' shapes and sizes)?
> Any thoughts/hints are welcome
> 
> Thanks for all your time
> V.Rovensky
> 
> 
> _______________________________________________
> libsl-dev mailing list
> libsl-dev@openmv.org
> http://openmv.org/cgi-bin/mailman/listinfo/libsl-dev

